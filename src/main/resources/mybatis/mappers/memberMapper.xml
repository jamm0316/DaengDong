<!--<?xml version="1.0" encoding="UTF-8" ?>-->
<!--<!DOCTYPE mapper-->
<!--        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"-->
<!--        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">-->
<!--<mapper namespace="com.shinhan.member">-->

<!--    &lt;!&ndash;간편로그인&ndash;&gt;-->
<!--    <select id="login" parameterType="String" resultType="memberDTO">-->
<!--        select *-->
<!--        from members-->
<!--        where member_email= #{memberEmail}-->
<!--    </select>-->

<!--    &lt;!&ndash;회원가입&ndash;&gt;-->
<!--    <insert id="signUp" parameterType="memberDTO">-->
<!--        insert into members(member_email, member_name, member_nickname, member_profile_photo)-->
<!--        values(#{memberEmail}, #{memberName}, #{memberNickname}, #{memberProfilePhoto})-->
<!--    </insert>-->

<!--    &lt;!&ndash;반려동물 회원가입&ndash;&gt;-->
<!--    <insert id="insertPet" parameterType="petDTO">-->
<!--        insert into pets(member_email, pet_name, pet_gender, pet_birthday, pet_blood_type, pet_profile_photo, pet_species)-->
<!--        values (#{memberEmail},#{petName},#{petGender},#{petBirthday},#{petBloodType},#{petProfilePhoto},#{petSpecies})-->
<!--    </insert>-->

<!--    &lt;!&ndash;member18 반려동물 프로필 변경!!&ndash;&gt;-->
<!--    <update id="updatepetProfile" parameterType="String">-->
<!--        update pets-->
<!--        set pet_profile_photo = #{pet_profile_photo}-->
<!--        where member_id = #{member_id}-->
<!--    </update>-->

<!--    &lt;!&ndash;member18-1 반려동물 삭제!!!!&ndash;&gt;-->
<!--    <delete id="deletepetProfile" parameterType="int">-->
<!--        delete-->
<!--        from pets-->
<!--        where pet_id = #{pet_id}-->
<!--    </delete>-->

<!--    &lt;!&ndash;모든 알림 조회!!!!@@@@@&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="selectnotification" parameterType="String" resultType="notificationDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        select *&ndash;&gt;-->
<!--&lt;!&ndash;        from notification&ndash;&gt;-->
<!--&lt;!&ndash;        where receiver_email = #{receiver_email}&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;모든 알림 삭제&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <delete id="deletenotification" parameterType="String">&ndash;&gt;-->
<!--&lt;!&ndash;        delete&ndash;&gt;-->
<!--&lt;!&ndash;        from notification&ndash;&gt;-->
<!--&lt;!&ndash;        where sender_email = #{sender_email}&ndash;&gt;-->
<!--&lt;!&ndash;    </delete>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;member8 닉네임 변경하기 &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <update id="modifyNickname" parameterType="memberDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        update members&ndash;&gt;-->
<!--&lt;!&ndash;        set member_nickname = #{memberNickname}&ndash;&gt;-->
<!--&lt;!&ndash;        where member_email = #{memberEmail}&ndash;&gt;-->
<!--&lt;!&ndash;    </update>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;member11 여행 기록 보기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="viewTravelList" parameterType="String" resultType="travelListVO">&ndash;&gt;-->
<!--&lt;!&ndash;        select plans.plan_id, plans.plan_name,plans.start_date ,plans.end_date, plans.plan_state, planPlaces.kakao_place_id&ndash;&gt;-->
<!--&lt;!&ndash;        from plans join planPlaces using(plan_id)&ndash;&gt;-->
<!--&lt;!&ndash;        where plans.member_email = #{memberEmail}&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;여행 기록 별 같이 간 여행자 보기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="personWithTravelList" parameterType="int" resultType="personWithTravelVO">&ndash;&gt;-->
<!--&lt;!&ndash;        select member_email, plan_id&ndash;&gt;-->
<!--&lt;!&ndash;        from memberPlans&ndash;&gt;-->
<!--&lt;!&ndash;        where plan_id = #{planId};&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;여행만들기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <insert id="insertTravelList" parameterType="plansDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        insert into plans INSERT INTO plans (member_email, start_date, end_date, plan_state)&ndash;&gt;-->
<!--&lt;!&ndash;        values(#{member_email},#{start_date},#{end_date},#{plan_state})&ndash;&gt;-->
<!--&lt;!&ndash;    </insert>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;여행 기록 수정&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <update id="modifyTravelList" parameterType="plansDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        update plans p&ndash;&gt;-->
<!--&lt;!&ndash;        join memberPlans mp on p.plan_id = mp.plan_id&ndash;&gt;-->
<!--&lt;!&ndash;        set&ndash;&gt;-->
<!--&lt;!&ndash;        p.start_date = #{start_date}&ndash;&gt;-->
<!--&lt;!&ndash;        p.end_date = #{end_date}&ndash;&gt;-->
<!--&lt;!&ndash;        p.plan_state = #{plan_state}&ndash;&gt;-->
<!--&lt;!&ndash;        where p.plan_id = #{plan_id}&ndash;&gt;-->
<!--&lt;!&ndash;        And mp.member_email = #{member_email}&ndash;&gt;-->
<!--&lt;!&ndash;    </update>&ndash;&gt;-->
<!--&lt;!&ndash;    &ndash;&gt;-->
<!--&lt;!&ndash;    &lt;!&ndash;여행 기록 삭제&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <delete id="deleteTravelList" parameterType="String">&ndash;&gt;-->
<!--&lt;!&ndash;        delete&ndash;&gt;-->
<!--&lt;!&ndash;        from membersPlans&ndash;&gt;-->
<!--&lt;!&ndash;        where member_plan_id = #{member_plan_id}&ndash;&gt;-->
<!--&lt;!&ndash;    </delete>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;member13 내가 가진 포토카드 모두 보기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="viewPhotoCardList" parameterType="String" resultType="PhotoCardVO">&ndash;&gt;-->
<!--&lt;!&ndash;    SELECT * FROM photocards&ndash;&gt;-->
<!--&lt;!&ndash;    where member_email = #{memberEmail};&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;member13-1 포토카드 만들기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <insert id="addPhotoCart" parameterType="photocardsDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        insert into photocards(member_email,photo_card_image_url , photo_card_perior)&ndash;&gt;-->
<!--&lt;!&ndash;        value (#{member_email} ,#{photo_card_image_url},#{photo_card_perior})&ndash;&gt;-->
<!--&lt;!&ndash;    </insert>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;member13-2 포토카드 삭제&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <delete id="deletePhotoCard" parameterType="int">&ndash;&gt;-->
<!--&lt;!&ndash;        delete&ndash;&gt;-->
<!--&lt;!&ndash;        from photocards&ndash;&gt;-->
<!--&lt;!&ndash;        where photo_card_id = #{photo_card_id}&ndash;&gt;-->
<!--&lt;!&ndash;    </delete>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;프로필 사진 변경하기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <update id="updateprofilePhoto" parameterType="memberDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        update members&ndash;&gt;-->
<!--&lt;!&ndash;        set member_profile_photo = #{memberprofilephoto}&ndash;&gt;-->
<!--&lt;!&ndash;        where member_email = #{memberEmail}&ndash;&gt;-->
<!--&lt;!&ndash;    </update>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;프로필 사진 등록하기 -> 기존사용자가 사진만 없을때&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <update id="updateprofilePhoto" parameterType="memberDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        UPDATE members&ndash;&gt;-->
<!--&lt;!&ndash;        SET member_profile_photo = #{memberprofilephoto}&ndash;&gt;-->
<!--&lt;!&ndash;        WHERE member_email = #{memberEmail}&ndash;&gt;-->
<!--&lt;!&ndash;        AND member_profile_photo IS NULL;&ndash;&gt;-->
<!--&lt;!&ndash;    </update>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;프로필 사진 삭제하기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <update id="clearProfilePhoto" parameterType="String">&ndash;&gt;-->
<!--&lt;!&ndash;        update members&ndash;&gt;-->
<!--&lt;!&ndash;        set member_profile_photo = NULL&ndash;&gt;-->
<!--&lt;!&ndash;        where member_profile_photo = #{memberprofilephoto}&ndash;&gt;-->
<!--&lt;!&ndash;    </update>&ndash;&gt;-->

<!--    &lt;!&ndash;내 리뷰 모두 보기&ndash;&gt;-->
<!--    <select id="viewReviewList" parameterType="String" resultType="ReviewVO">-->
<!--        SELECT r.review_id, p.kakao_place_name, r.kakao_place_id, r.review_rating, r.review_content, r.create_at, r.update_at-->
<!--        FROM reviews as r join places as p using (kakao_place_id)-->
<!--        where member_email = #{memberEmail}-->
<!--    </select>-->

<!--    &lt;!&ndash;member19 내가 쓴 리뷰 삭제&ndash;&gt;-->
<!--    <delete id="deleteReview" parameterType="int">-->
<!--        delete-->
<!--        from reviews-->
<!--        where review_id = #{review_id}-->
<!--    </delete>-->

    <!--내가 쓴 리뷰 수정-->
    <update id="modifyReview" parameterType="ReviewDTO">
        update reviews
        set review_rating = #{review_rating},
            review_content = #{review_content}
        where review_id = #{review_id}
    </update>

<!--    &lt;!&ndash;좋아요 모두 조회&ndash;&gt;-->
<!--    <select id="getLikePostList" parameterType="String" resultType="LikePostsVO">-->
<!--        SELECT-->
<!--            posts.post_id,-->
<!--            posts.post_title,-->
<!--            post_images.image_url,-->
<!--            members.member_nickname-->
<!--        FROM likes-->
<!--                JOIN posts ON likes.post_id = posts.post_id-->
<!--                JOIN post_images ON posts.post_id = post_images.post_id-->
<!--                JOIN members ON posts.member_email = members.member_email-->
<!--        where likes.member_email = #{memberEmail};-->
<!--    </select>-->

<!--&lt;!&ndash;    &lt;!&ndash;좋아요 삭제&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <delete id="deleteLike" parameterType="likesDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        delete&ndash;&gt;-->
<!--&lt;!&ndash;        from likes&ndash;&gt;-->
<!--&lt;!&ndash;        where post_id = #{post_id}&ndash;&gt;-->
<!--&lt;!&ndash;        And member_email = #{member_email}&ndash;&gt;-->
<!--&lt;!&ndash;    </delete>&ndash;&gt;-->

<!--    &lt;!&ndash;즐겨찾기한 장소 모두 조회&ndash;&gt;-->
<!--    <select id="favoritePlaceList" parameterType="String" resultType="favoritePlaceVO">-->
<!--        SELECT-->
<!--            f.star_id,-->
<!--            f.member_email,-->
<!--            p.kakao_place_id,-->
<!--            p.kakao_place_name,-->
<!--            p.kakao_road_address_name,-->
<!--            p.kakao_phone,-->
<!--            p.kakao_place_url,-->
<!--            r.region_name,-->
<!--            f.create_at,-->
<!--            f.update_at-->
<!--        FROM favorites f JOIN places p ON f.kakao_place_id = p.kakao_place_id-->
<!--                         JOIN regions r ON p.region_id = r.region_id-->
<!--        where member_email = #{memberEmail}-->
<!--    </select>-->

<!--    &lt;!&ndash;즐겨찾기 삭제!&ndash;&gt;-->
<!--    <delete id="deleteFavoritePlace" parameterType="int">-->
<!--        delete-->
<!--        from favorites-->
<!--        where star_id = #{star_id}-->
<!--    </delete>-->

<!--&lt;!&ndash;    &lt;!&ndash;팔로우하기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <insert id="relationships" parameterType="relationshipsDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        insert into relationships (from_email, to_email)&ndash;&gt;-->
<!--&lt;!&ndash;        VALUES (#{from_email}, #{to_email})&ndash;&gt;-->
<!--&lt;!&ndash;    </insert>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;팔로우취소&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <delete id="deleteRelationships" parameterType="relationshipsDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        delete&ndash;&gt;-->
<!--&lt;!&ndash;        from relationships&ndash;&gt;-->
<!--&lt;!&ndash;        where from_email = #{from_email}&ndash;&gt;-->
<!--&lt;!&ndash;        And to_email = #{to_email}&ndash;&gt;-->
<!--&lt;!&ndash;    </delete>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;&ndash;&gt;-->
<!--&lt;!&ndash;    &lt;!&ndash;팔로잉 보기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="selectFollowing" parameterType="relationshipsDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        select m.member_email, m.member_name, m.member_nickname, m.member_profile_photo&ndash;&gt;-->
<!--&lt;!&ndash;        from relationships r&ndash;&gt;-->
<!--&lt;!&ndash;        join members m on r.to_email = m.member_email&ndash;&gt;-->
<!--&lt;!&ndash;        where r.from_email = #{from_email};&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;팔로워 보기&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="selectfollower" parameterType="relationshipsDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        select m.member_email, m.member_name, m.member_nickname, m.member_profile_photo&ndash;&gt;-->
<!--&lt;!&ndash;        from relationships r&ndash;&gt;-->
<!--&lt;!&ndash;        join members m on r.from_email = m.member_email&ndash;&gt;-->
<!--&lt;!&ndash;        where r.to_email = #{to_email};&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;즐겨찾기 등록&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <insert id="insertFavoritePlaceList" parameterType="favoriteDTO">&ndash;&gt;-->
<!--&lt;!&ndash;        insert favorites set&ndash;&gt;-->
<!--&lt;!&ndash;        member_email = #{memebr_id},&ndash;&gt;-->
<!--&lt;!&ndash;        kakao_place_id = #{kakao_place_id}&ndash;&gt;-->
<!--&lt;!&ndash;    </insert>&ndash;&gt;-->

<!--&lt;!&ndash;    &lt;!&ndash;유저 게시글 조회&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    <select id="selectPosts" parameterType="String" resultType="postsVO">&ndash;&gt;-->
<!--&lt;!&ndash;        select *&ndash;&gt;-->
<!--&lt;!&ndash;        from posts&ndash;&gt;-->
<!--&lt;!&ndash;        where member_email = 'user1@example.com';&ndash;&gt;-->
<!--&lt;!&ndash;    </select>&ndash;&gt;-->

<!--</mapper>-->